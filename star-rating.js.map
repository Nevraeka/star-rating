{"version":3,"sources":["webpack:///webpack/bootstrap 82e0c80d9541ee8c9b61","webpack:///./src/star-rating.js","webpack:///./src/mixins.js"],"names":[],"mappings":"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","file":"star-rating.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 82e0c80d9541ee8c9b61\n **/","import exists from \"./mixins\";\n\nexport class StarRating extends HTMLElement {\n\n    createdCallback(){\n        Object.defineProperty(this, \"value\", { value: 0, writable: true });\n    }\n\n    attributeChangedCallback(name, oldVal, newVal) {\n            if(name === \"size\" || name === \"maxvalue\" || name === \"hover\"){\n                this._update();\n            }\n    }\n\n    attachedCallback() {\n        this._update();\n    }\n\n    reset(){\n        [].forEach.call(this.querySelectorAll('.star'), removedSelectedState, this);\n\n        function removedSelectedState(item, indx){\n            item.classList.remove('star-selected');\n        }\n        this._setValue(0);\n        this.dispatchEvent(this._ratingUpdatedEvent());\n    }\n\n    _update(){\n        this._render();\n        this._bindEvents();\n    }\n\n    _render(){\n        var count = this._getMaxValue();\n        this.innerHTML = StarRating._css(this._getPaths(), this._getSize());\n        while(count > 0){\n            this._addStar();\n            count--;\n        }\n    }\n\n    _ratingUpdatedEvent(){\n        return new CustomEvent(\"ratingUpdated\", {\n            detail: {\n                value: this.value,\n                maxValue: this._getMaxValue()\n            }\n        });\n    }\n\n    _bindEvents(){\n        [].forEach.call(this.querySelectorAll('.star'), iterateOverStars, this);\n\n        function iterateOverStars(item, indx){\n            if(this.getAttribute('hover') === 'true') {\n                updateEventHandlers(this, item, 'mouseover', starHandler);\n            }\n            updateEventHandlers(this, item, 'click', starHandler);\n\n            function starHandler(evt){\n                evt.preventDefault();\n                this._setValue(indx + 1);\n                this._toggleStates(evt.target, indx);\n                this.dispatchEvent(this._ratingUpdatedEvent());\n            }\n        }\n\n        function updateEventHandlers(starRating, element, evt, handler){\n            element.removeEventListener(evt, handler.bind(starRating));\n            element.addEventListener(evt, handler.bind(starRating));\n        }\n\n    }\n\n    _addStar(){\n        this.innerHTML += '<div class=\"star\"></div>';\n    }\n\n    _toggleStates(star, index){\n        [].forEach.call(this.querySelectorAll('.star'), toggleStates, this);\n\n        function toggleStates(item, indx){\n            item.classList[indx <= index ? 'add' : 'remove']('star-selected');\n        }\n    }\n\n    _getPaths(){\n        return exists(this.getAttribute('paths')) ? this.getAttribute('paths').split(/(\\s*)(,{1})(\\s*)/)  : [ 'star.svg', 'star-selected.svg' ];\n    }\n\n    _getMaxValue(){\n        let maxValue = parseInt(this.getAttribute('maxValue'), 10);\n        return exists(maxValue) && !isNaN(maxValue) ? maxValue : 5;\n    }\n\n    _getSize() {\n        let sizeAttr = this.getAttribute('size');\n        return exists(sizeAttr) ? sizeAttr : \"36px\";\n    }\n\n    _setValue(val){\n        this.setAttribute(\"value\", val);\n        this.value = val;\n        return this.value;\n    }\n\n    static _css(path, size){\n        return `<style>\n                    :host,\n                    star-rating {\n                      display: flex;\n                      align-items: center;\n                      justify-content: center;\n                      width: 100%;\n                    }\n                    .star {\n                       width: ${size};\n                       height: ${size};\n                       background: rgba(255,255,255,0) url(${path[0]}) no-repeat center center;\n                       background-size: cover;\n                    }\n\n                    .star-selected {\n                       background-image: url(${path[1]});\n                    }\n                </style>`;\n    }\n}\n\ndocument.registerElement(\"star-rating\", StarRating);\n\n\n/** WEBPACK FOOTER **\n ** ./src/star-rating.js\n **/","export function getCSS(path){\n    let link = document.createElement('link');\n    link.href = path;\n    link.rel = \"stylesheet\";\n    document.head.appendChild(link);\n}\n\n\nexport default function exists(testItem) {\n    return typeof testItem !== \"undefined\" && testItem !== null;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/mixins.js\n **/"],"sourceRoot":""}