{"version":3,"sources":["webpack:///webpack/bootstrap 699b67ba4a316a342bc9","webpack:///./src/star-rating.js","webpack:///./src/helpers.js","webpack:///./src/vars.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;ACtCA;;AACA;;;;;;;;;;;;;;;;;;;;;;;KAgBa,U,WAAA,U;;;;;;;;;;;2CAES;AACd,kBAAK,MAAL,GAAc,sBAAd;AACA,oBAAO,cAAP,CAAsB,IAAtB,EAA4B,OAA5B,EAAqC,EAAE,OAAO,CAAT,EAAY,UAAU,IAAtB,EAArC;AACH;;;kDAEwB,I,EAAM,M,EAAQ,M,EAAQ;AAC3C,iBAAI,KAAK,MAAL,CAAY,IAAZ,CAAiB,IAAjB,CAAJ,EAA4B;AACxB,sBAAK,OAAL;AACA,qBAAG,WAAW,SAAS,MAAT,EAAiB,EAAjB,CAAd,EAAmC;AAC/B,0BAAK,aAAL,CAAmB,MAAnB;AACH,kBAFD,MAEO;AACH,0BAAK,KAAL;AACH;AACJ;AACJ;;;4CAEkB;AACf,kBAAK,KAAL,GAAa,KAAK,UAAL,KAAoB,KAAK,gBAAL,EAApB,GAA8C,IAA3D;AACA,kBAAK,OAAL;AACH;;;iCAEO;AACJ,kBAAK,SAAL,CAAe,CAAf;AACA,kBAAK,OAAL,CAAa,qBAAqB,IAArB,CAA0B,IAA1B,CAAb;AACA,kBAAK,aAAL,CAAmB,KAAK,mBAAL,EAAnB;;AAEA,sBAAS,oBAAT,CAA8B,IAA9B,EAAoC;AAChC,sBAAK,SAAL,CAAe,MAAf,CAAsB,UAAtB;AACA,sBAAK,YAAL,CAAkB,IAAlB,EAAwB,KAAK,IAAL,GAAY,CAAZ,CAAxB,EAAwC,KAAK,KAAL,EAAxC;AACH;;AAED,oBAAO,IAAP;AACH;;;gCAEM,K,EAAO;AACV,iBAAG,CAAC,qBAAO,KAAP,CAAD,IAAkB,OAAO,KAAP,KAAiB,QAAtC,EAA+C;AAAE,wBAAO,IAAP;AAAc;AAC/D,iBAAM,MAAM,KAAK,SAAL,EAAZ;AACA,kBAAK,aAAL,CAAmB,CAAC,QAAQ,CAAR,GAAY,CAAZ,GAAgB,QAAQ,GAAR,GAAc,GAAd,GAAoB,KAArC,IAA6C,CAAhE;AACA,oBAAO,IAAP;AACH;;;mCAES,G,EAAI;AACV,iBAAI,SAAS,IAAb;AACA,iBAAI,QAAS,OAAO,KAApB;AACA,iBAAI,OAAU,IAAI,KAAJ,IAAa,IAAI,OAA/B;;AAEA,iBAAG,QAAQ,EAAR,IAAc,QAAQ,EAAzB,EAA4B;AACxB,qBAAG,QAAQ,EAAX,EAAc;AAAE,4BAAO,MAAP,CAAc,QAAQ,CAAtB;AAA2B;AAC3C,qBAAG,QAAQ,EAAX,EAAc;AAAE,4BAAO,MAAP,CAAc,QAAQ,CAAtB;AAA2B;AAC9C;AAEJ;;;sCAEY,I,EAAM,O,EAAS,I,EAAM;AAC9B,kBAAK,KAAL,CAAW,eAAX,YAAoC,OAApC;AACA,kBAAK,KAAL,CAAW,KAAX,GAAmB,IAAnB;AACA,kBAAK,KAAL,CAAW,MAAX,GAAoB,IAApB;AACA,oBAAO,IAAP;AACH;;;mCAES;AACN,kBAAK,OAAL;AACA,kBAAK,YAAL;AACH;;;;;;;wCAKc;AACX,iBAAI,UAAU,EAAd;AACA,iBAAI,WAAW,KAAK,SAAL,EAAf;;AAEA,oBAAO,WAAW,CAAlB,EAAqB;AACjB,yBAAQ,IAAR,CAAa,QAAb;AACA;AACH;AACD,oBAAO,QAAQ,GAAR,wBAA0B,IAA1B,CAA+B,EAA/B,CAAP;AACH;;;mCAES;AACN,kBAAK,KAAL,CAAW,SAAX,GAAuB,8BAAgB,KAAK,KAAL,EAAhB,EAA8B,KAAK,IAAL,EAA9B,IAA6C,KAAK,YAAL,EAApE;AACH;;;+CAEqB;AAClB,oBAAO,IAAI,WAAJ,CAAgB,eAAhB,EAAiC;AACpC,yBAAQ;AACJ,4BAAO,KAAK,KADR;AAEJ,+BAAU,KAAK,SAAL;AAFN;AAD4B,cAAjC,CAAP;AAMH;;;qCAEU;AACR,oBAAO,KAAK,KAAL,CAAW,gBAAX,CAA4B,WAA5B,CAAP;AACF;;;iCAEO,S,EAAW;AACf,oBAAO,GAAG,OAAH,CAAW,IAAX,CAAgB,KAAK,KAAL,CAAW,gBAAX,CAA4B,OAA5B,CAAhB,EAAsD,SAAtD,EAAiE,IAAjE,CAAP;AACH;;;yDAE+B,M,EAAQ,I,EAAK;AACzC,oBAAO,KAAK,SAAL,GAAiB,MAAjB,KAA4B,OAAO,CAAnC,IACO,OAAO,SAAP,CAAiB,QAAjB,CAA0B,UAA1B,CADd;AAEH;;;yCAEe,I,EAAM,I,EAAM;AACtB,kBAAK,mBAAL,CAAyB,OAAzB,EAAkC,YAAY,IAAZ,CAAiB,IAAjB,CAAlC;AACA,kBAAK,gBAAL,CAAsB,OAAtB,EAA+B,YAAY,IAAZ,CAAiB,IAAjB,CAA/B;;AAEA,sBAAS,WAAT,CAAqB,GAArB,EAA0B;AACtB,qBAAI,cAAJ;AACA,qBAAI,KAAK,+BAAL,CAAqC,IAAI,MAAzC,EAAiD,IAAjD,CAAJ,EAA4D;AACxD,0BAAK,KAAL;AACH,kBAFD,MAEO;AACH,0BAAK,aAAL,CAAmB,IAAnB;AACH;AACJ;AACN;;;wCAEc;AACX,kBAAK,mBAAL,CAAyB,OAAzB,EAAkC,KAAK,SAAvC;AACA,kBAAK,gBAAL,CAAsB,OAAtB,EAA+B,KAAK,SAApC;AACA,kBAAK,OAAL,CAAa,KAAK,eAAlB;AACH;;;qCAEW,I,EAAM,K,EAAO;AACrB,oBAAO,KAAK,UAAL,KAAoB,KAAK,aAAL,CAAmB,KAAnB,CAApB,GAAgD,KAAK,YAAL,CAAkB,OAAlB,EAA8B,WAAW,MAAX,CAAkB,KAAK,KAAL,EAAlB,EAAgC,KAAK,IAAL,GAAY,CAAZ,CAAhC,EAAgD,IAAhD,EAA9B,OAAvD;AACH;;;uCAEa,K,EAAO;AACjB,iBAAI,QAAQ,KAAK,IAAL,EAAZ;AACA,iBAAI,OAAO,KAAK,KAAL,EAAX;;AAEA,kBAAK,OAAL,CAAa,YAAb;AACA,kBAAK,aAAL,CAAmB,KAAK,mBAAL,EAAnB;;AAEA,sBAAS,YAAT,CAAsB,IAAtB,EAA4B,IAA5B,EAAkC;AAC9B,qBAAI,YAAY,QAAQ,KAAxB;AACA,qBAAG,QAAQ,KAAX,EAAiB;AACb,0BAAK,SAAL,CAAe,OAAO,CAAtB;AACH;AACD,sBAAK,SAAL,CAAe,YAAY,KAAZ,GAAoB,QAAnC,EAA6C,UAA7C;AACA,sBAAK,YAAL,CAAkB,IAAlB,EAAyB,YAAY,MAAM,CAAN,CAAZ,GAAuB,MAAM,CAAN,CAAhD,EAA2D,IAA3D;AACH;AACJ;;;gCAEM;AACH,iBAAI,OAAO,KAAK,YAAL,CAAkB,KAAlB,CAAX;AACA,oBAAO,qBAAO,IAAP,IAAe,KAAK,KAAL,CAAW,gBAAX,EAA6B,MAA7B,CAAoC,SAApC,CAAf,GAAgE,WAAW,QAAX,EAAvE;;AAEA,sBAAS,SAAT,CAAmB,IAAnB,EAAyB;AACrB,qBAAI,CAAE,qBAAqB,IAArB,CAA0B,IAA1B,CAAF,IAAsC,KAAK,IAAL,OAAgB,EAA1D,EAA8D;AAC1D,4BAAO,IAAP;AACH;AACJ;AACJ;;;mCAES,G,EAAK;AACX,iBAAI,WAAW,SAAS,MAAM,GAAN,GAAY,KAAK,YAAL,CAAkB,UAAlB,CAArB,EAAoD,EAApD,CAAf;AACA,oBAAO,qBAAO,QAAP,KAAoB,CAAC,MAAM,QAAN,CAArB,GAAuC,QAAvC,kBAAP;AACH;;;iCAEO;AACJ,iBAAI,WAAW,KAAK,YAAL,CAAkB,MAAlB,CAAf;AACA,oBAAO,qBAAO,QAAP,IAAmB,QAAnB,aAAP;AACH;;;mCAES,G,EAAK;AACX,oBAAO,KAAK,KAAL,GAAa,GAApB;AACH;;;sCAEY;AACT,oBAAO,sBAAsB,IAA7B;AACH;;;oCAEiB;AACd,oBAAO,4CAAP;AACH;;;gCAEa,I,EAAM,O,EAAS;;AAEzB,oBAAO;AACH,0BAAS,mBAAY;AACjB;AACH;AAHE,cAAP;AAMH;;;;GA7L2B,W;;AAkMhC,UAAS,eAAT,CAAyB,aAAzB,EAAwC,UAAxC,E;;;;;;;;;;;mBCnNwB,O;SAQR,M,GAAA,M;SAIA,Y,GAAA,Y;SAIA,e,GAAA,e;AAhBD,UAAS,OAAT,GAAkB;AAC/B,UAAO;AACL,aAAiB,MADZ;AAEL,mBAAiB,YAFZ;AAGL,sBAAiB;AAHZ,IAAP;AAKD;;AAEM,UAAS,MAAT,CAAgB,QAAhB,EAA0B;AAC7B,UAAO,OAAO,QAAP,KAAoB,WAApB,IAAmC,aAAa,IAAvD;AACH;;AAEM,UAAS,YAAT,GAAuB;AAC5B,UAAO,uCAAP;AACD;;AAEM,UAAS,eAAT,CAAyB,IAAzB,EAA+B,QAA/B,EAAwC;AAC7C,+iBAiBsB,IAjBtB,gCAkBqB,IAlBrB,wHAqBkD,SAAS,CAAT,CArBlD,2JA0BmC,SAAS,CAAT,CA1BnC;AA8BD,E;;;;;;;;;;;mBC/CuB,I;AAAT,UAAS,IAAT,GAAe;;AAE1B,UAAO;AACL,WAAM,IADD;AAEL,eAAU,SAFL;AAGL,WAAM;AACJ,aAAU,YADN;AAEJ,iBAAU;AAFN,MAHD;AAOL,aAAQ;AACN,gBAAS,aADH;AAEN,aAAS;AAFH,MAPH;AAWL,gBAAY;AACV,YAAM,eADI;AAEV,aAAM;AAFI;;AAXP,IAAP;AAiBH;;AAEM,KAAM,sBAAmB,MAAzB;AACA,KAAM,gCAAmB,CAAzB;AACA,KAAM,sCAAmB,wVAAzB;AACA,KAAM,8CAAmB,wVAAzB;AACA,KAAM,0oBAAN;AAWA,KAAM,2WAAN,C","file":"star-rating.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 699b67ba4a316a342bc9\n **/","import {exists, elementTemplate, starTemplate} from \"./helpers\";\nimport {SIZE, ELEMENT_STYLE, STAR_STYLE, SELECTED_IMG_BKG, BASE_IMG_BKG, MAX_VALUE} from \"./vars\";\n\n/*\n\n A vanilla web component that provides a number based rating value\n\n ##### Examples\n <star-rating></star-rating>\n <star-rating maxvalue=\"10\"></star-rating>\n <star-rating size=\"2em\"></star-rating>\n <star-rating src=\"/path/to/default-image-state, /path/to/selected-image-state\"></star-rating>\n @demo\n @element star-rating\n @author Erik Isaksen\n\n */\nexport class StarRating extends HTMLElement {\n\n    createdCallback() {\n        this._attrs = /(size|maxvalue|src)/i;\n        Object.defineProperty(this, \"value\", { value: 0, writable: true });\n    }\n\n    attributeChangedCallback(name, oldVal, newVal) {\n        if (this._attrs.test(name)) {\n            this._update();\n            if(newVal === parseInt(newVal, 10)){\n                this._toggleStates(newVal);\n            } else {\n                this.reset();\n            }\n        }\n    }\n\n    attachedCallback() {\n        this._root = this._hasShadow() ? this.createShadowRoot() : this;\n        this._update();\n    }\n\n    reset() {\n        this._setValue(0);\n        this._allAnd(removedSelectedState.bind(this));\n        this.dispatchEvent(this._ratingUpdatedEvent());\n\n        function removedSelectedState(item) {\n            item.classList.remove('selected');\n            this._setStateFor(item, this._src()[0], this._size());\n        }\n\n        return this;\n    }\n\n    rateAs(value) {\n        if(!exists(value) || typeof value !== 'number'){ return this; }\n        const max = this._maxValue();\n        this._toggleStates((value < 1 ? 0 : value > max ? max : value) -1);\n        return this;\n    }\n\n    _keyboard(evt){\n        let rating = this;\n        let value  = rating.value;\n        let code   = (evt.which || evt.keyCode);\n\n        if(code == 37 || code == 39){\n            if(code == 37){ rating.rateAs(value - 1); }\n            if(code == 39){ rating.rateAs(value + 1); }\n        }\n\n    }\n\n    _setStateFor(item, starImg, size) {\n        item.style.backgroundImage = `url(${starImg})`;\n        item.style.width = size;\n        item.style.height = size;\n        return item;\n    }\n\n    _update() {\n        this._render();\n        this._applyEvents();\n    }\n\n    // TODO: Update this & relate style attr adjustments to use Shadow DOM &\n    // CSS Properties (doing this hack now to get browser support)\n\n    _renderStars() {\n        let starArr = [];\n        let maxValue = this._maxValue();\n\n        while (maxValue > 0) {\n            starArr.push(maxValue);\n            maxValue--;\n        }\n        return starArr.map(starTemplate).join('');\n    }\n\n    _render() {\n        this._root.innerHTML = elementTemplate(this._size(), this._src()) + this._renderStars();\n    }\n\n    _ratingUpdatedEvent() {\n        return new CustomEvent(\"ratingUpdated\", {\n            detail: {\n                value: this.value,\n                maxValue: this._maxValue()\n            }\n        });\n    }\n\n    _selected(){\n       return this._root.querySelectorAll('.selected');\n    }\n\n    _allAnd(iterateFn) {\n        return [].forEach.call(this._root.querySelectorAll('.star'), iterateFn, this);\n    }\n\n    _indexPlusOneEqualsCurrentValue(target, indx){\n        return this._selected().length === indx + 1\n                   && target.classList.contains('selected');\n    }\n\n    _applyDOMEvents(item, indx) {\n          item.removeEventListener('click', starHandler.bind(this));\n          item.addEventListener('click', starHandler.bind(this));\n\n          function starHandler(evt) {\n              evt.preventDefault();\n              if (this._indexPlusOneEqualsCurrentValue(evt.target, indx)) {\n                  this.reset();\n              } else {\n                  this._toggleStates(indx);\n              }\n          }\n    }\n\n    _applyEvents() {\n        this.removeEventListener('keyup', this._keyboard);\n        this.addEventListener('keyup', this._keyboard);\n        this._allAnd(this._applyDOMEvents);\n    }\n\n    _updateStar(item, index) {\n        return this._hasShadow() ? this._toggleStates(index) : item.setAttribute('style', `${StarRating._style(this._size(), this._src()[0]).star()};`);\n    }\n\n    _toggleStates(index) {\n        let _srcs = this._src();\n        let size = this._size();\n\n        this._allAnd(toggleStates);\n        this.dispatchEvent(this._ratingUpdatedEvent());\n\n        function toggleStates(item, indx) {\n            let isInRange = indx <= index;\n            if(indx == index){\n                this._setValue(indx + 1);\n            }\n            item.classList[isInRange ? 'add' : 'remove']('selected');\n            this._setStateFor(item, (isInRange ? _srcs[1] : _srcs[0]), size);\n        }\n    }\n\n    _src() {\n        let _src = this.getAttribute('src');\n        return exists(_src) ? _src.split(/(\\ *),{1}(\\ *)/).filter(filterSrc) : StarRating._sources();\n\n        function filterSrc(item) {\n            if (!(/^(data).*(base64)$/.test(item)) && item.trim() !== '') {\n                return item;\n            }\n        }\n    }\n\n    _maxValue(val) {\n        let maxValue = parseInt(val ? val : this.getAttribute('maxvalue'), 10);\n        return exists(maxValue) && !isNaN(maxValue) ? maxValue : MAX_VALUE;\n    }\n\n    _size() {\n        let sizeAttr = this.getAttribute('size');\n        return exists(sizeAttr) ? sizeAttr : SIZE;\n    }\n\n    _setValue(val) {\n        return this.value = val;\n    }\n\n    _hasShadow() {\n        return \"createShadowRoot\" in this;\n    }\n\n    static _sources() {\n        return [BASE_IMG_BKG, SELECTED_IMG_BKG];\n    }\n\n    static _style(size, starImg) {\n\n        return {\n            element: function () {\n                return ELEMENT_STYLE;\n            }\n        }\n\n    }\n\n}\n\n\ndocument.registerElement(\"star-rating\", StarRating);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/star-rating.js\n **/","export default function helpers(){\n  return {\n    exists:          exists,\n    starTemplate:    starTemplate,\n    elementTemplate: elementTemplate\n  };\n}\n\nexport function exists(testItem) {\n    return typeof testItem !== \"undefined\" && testItem !== null;\n}\n\nexport function starTemplate(){\n  return '<div tabindex=\"0\" class=\"star\"></div>';\n}\n\nexport function elementTemplate(size, starImgs){\n  return `<style>\n           :host {\n             display: flex;\n             -webkit-align-items: center;\n             -ms-align-items: center;\n             -moz-align-items: center;\n             align-items: center;\n             -webkit-justify-content: center;\n             -ms-justify-content: center;\n             -moz-justify-content: center;\n             justify-content: center;\n             width: 100%;\n             outline-width: 1px;\n           }\n\n           .star {\n             display: inline-block;\n              height: ${size};\n              width: ${size};\n              outline: 0;\n              cursor: pointer;\n              background: rgba(255,255,255,0) url(${starImgs[0]}) no-repeat center center;\n              background-size: cover;\n           }\n\n           .star.selected {\n             background-image: url(${starImgs[1]});\n           }\n\n        </style>`;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/helpers.js\n **/","export default function Vars(){\n\n    return {\n      size: SIZE,\n      maxValue: MAX_VALUE,\n      icon: {\n        base:     BASE_IMG_BKG,\n        selected: SELECTED_IMG_BKG\n      },\n      styles: {\n        element: ELEMENT_STYLE,\n        star:    STAR_STYLE\n      },\n      templates : {\n        css:  elementTemplate,\n        html: starTemplate\n      }\n\n    };\n}\n\nexport const SIZE             = \"36px\";\nexport const MAX_VALUE        = 5;\nexport const BASE_IMG_BKG     = 'data:image/svg+xml;base64,PHN2ZyBmaWxsPSIjQ0NDQ0NDIiBoZWlnaHQ9IjE4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHdpZHRoPSIxOCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxwYXRoIGQ9Ik05IDExLjNsMy43MSAyLjctMS40Mi00LjM2TDE1IDdoLTQuNTVMOSAyLjUgNy41NSA3SDNsMy43MSAyLjY0TDUuMjkgMTR6Ii8+CiAgICA8cGF0aCBkPSJNMCAwaDE4djE4SDB6IiBmaWxsPSJub25lIi8+Cjwvc3ZnPg==';\nexport const SELECTED_IMG_BKG = 'data:image/svg+xml;base64,PHN2ZyBmaWxsPSIjRjFDNDBGIiBoZWlnaHQ9IjE4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHdpZHRoPSIxOCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxwYXRoIGQ9Ik05IDExLjNsMy43MSAyLjctMS40Mi00LjM2TDE1IDdoLTQuNTVMOSAyLjUgNy41NSA3SDNsMy43MSAyLjY0TDUuMjkgMTR6Ii8+CiAgICA8cGF0aCBkPSJNMCAwaDE4djE4SDB6IiBmaWxsPSJub25lIi8+Cjwvc3ZnPg==';\nexport const ELEMENT_STYLE    = `display: flex;\n                                 display: -webkit-flex;\n                                 -webkit-align-items: center;\n                                 -ms-align-items: center;\n                                 -moz-align-items: center;\n                                 align-items: center;\n                                 -webkit-justify-content: center;\n                                 -ms-justify-content: center;\n                                 -moz-justify-content: center;\n                                 justify-content: center;\n                                 width: 100%;`;\nexport const STAR_STYLE       = `outline: 0;\n                                 cursor: pointer;\n                                 background-color: rgba(255,255,255,0);\n                                 background-repeat: no-repeat;\n                                 background-position: center center;\n                                 background-size: cover;`\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/vars.js\n **/"],"sourceRoot":""}