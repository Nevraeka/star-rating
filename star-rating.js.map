{"version":3,"sources":["webpack:///webpack/bootstrap b09572cc58d7a2378e84","webpack:///./src/star-rating.js","webpack:///./src/mixins.js"],"names":[],"mappings":"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","file":"star-rating.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap b09572cc58d7a2378e84\n **/","import exists from \"./mixins\";\n\nexport class StarRating extends HTMLElement {\n\n    createdCallback(){\n        Object.defineProperty(this, \"value\", { value: 0, writable: true });\n    }\n\n    attributeChangedCallback(name, oldVal, newVal) {\n        if(exists(oldVal)){\n            if(name === \"colors\" || name === \"size\" || name === \"maxvalue\"){\n                this.blueprint();\n                this.render();\n                this.bindEvents();\n            }\n        }\n\n    }\n\n    attachedCallback() {\n        this.blueprint();\n        this.render();\n        this.bindEvents();\n    }\n\n    dispatchRatingUpdated(){\n        let ratingUpated = new CustomEvent(\"ratingUpdated\", {\n            detail: {\n                value: this.value,\n                maxValue: this.getMaxValue()\n            }\n        });\n\n        this.dispatchEvent(ratingUpated);\n    }\n\n    bindEvents(){\n        [].forEach.call(this.querySelectorAll('.star'), function(item, indx){\n            let clickHandler = function(evt){\n                evt.preventDefault();\n                this.setValue(indx + 1);\n                this.updateStar(evt.target, indx);\n                this.dispatchRatingUpdated();\n            };\n            item.removeEventListener('click', clickHandler.bind(this));\n            item.addEventListener('click', clickHandler.bind(this));\n\n        }, this);\n    }\n\n    updateStar(star, index){\n        [].forEach.call(this.querySelectorAll('.star'), function(item, indx){\n            if (indx <= index) {\n                item.classList.add('star-selected');\n            } else {\n                item.classList.remove('star-selected');\n            }\n        }, this);\n    }\n\n    setValue(val){\n        this.setAttribute(\"value\", val);\n        this.value = val;\n        return this.value;\n    }\n\n    blueprint() {\n        this.starTemplates = this.getColors().map(StarRating.mapTemplates.bind(this));\n    }\n\n    render(){\n        var count = this.getMaxValue();\n        this.innerHTML = StarRating.css(this.getPaths(), this.getSize());\n        while(count > 0){\n            this.renderTemplate();\n            count--;\n        }\n    }\n\n    renderTemplate(){\n        let tmpl = this.starTemplates[0];\n        this.innerHTML+= tmpl;\n    }\n\n    getPaths(){\n        return exists(this.getAttribute('paths')) ? this.getAttribute('paths').split(/(\\s*)(,{1})(\\s*)/)  : [ 'star.svg', 'star-selected.svg' ];\n    }\n\n    getMaxValue(){\n        let maxValue = parseInt(this.getAttribute('maxValue'), 10);\n        return exists(maxValue) && !isNaN(maxValue) ? maxValue : 5;\n    }\n\n    getColors(){\n        return exists(this.getAttribute(\"colors\")) ? this.getAttribute(\"colors\").split(/(\\s*)(,{1})(\\s*)/) : [ \"#CCCCCC\"  ,\"#F1C40F\" ];\n    }\n\n    getSize() {\n        let sizeAttr = this.getAttribute('size');\n        return exists(sizeAttr) ? sizeAttr : \"36px\";\n    }\n\n    static template(color, size, maxvalue) {\n        return `<div class=\"star\"></div>`;\n    }\n\n    static mapTemplates(color){\n        return StarRating.template(color, this.getSize());\n    }\n\n    static css(path, size){\n        return   `<style>\n                    :host,\n                    star-rating {\n                      display: flex;\n                      align-items: center;\n                      justify-content: center;\n                      width: 100%;\n                    }\n                    .star {\n                       width: ${size};\n                       height: ${size};\n                       background: rgba(255,255,255,0) url(${path[0]}) no-repeat center center;\n                       background-size: cover;\n                    }\n\n                    .star-selected {\n                       background-image: url(${path[1]});\n                    }\n                </style>`;\n    }\n\n}\n\ndocument.registerElement(\"star-rating\", StarRating);\n\n\n/** WEBPACK FOOTER **\n ** ./src/star-rating.js\n **/","export function getCSS(path){\n    let link = document.createElement('link');\n    link.href = path;\n    link.rel = \"stylesheet\";\n    document.head.appendChild(link);\n}\n\n\nexport default function exists(testItem) {\n    return typeof testItem !== \"undefined\" && testItem !== null;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/mixins.js\n **/"],"sourceRoot":""}